import{_ as N,d as A,u as M,w as S,b as B,r as F,e as V,o as n,c as l,a as t,t as d,i,n as x,g as b,F as L,f as T,j as r,k as _,l as D,h as Y,p as j,m as R}from"./entry-58e7afa6.mjs";import{u as U}from"./asyncData-5962a627.mjs";import{u as q}from"./useWeb3-5d18194c.mjs";import{M as z,a as E}from"./Market_abi-93ee176c.mjs";const f=u=>(j("data-v-4dd9a748"),u=u(),R(),u),H={class:"py-5 text-center container"},W={class:"row py-lg-5"},G={class:"col-lg-6 col-md-8 mx-auto"},J=f(()=>t("h1",{class:"fw-light"},"My NFTs",-1)),K={class:"lead text-muted text-truncate"},O={class:"album py-5 bg-light"},P={key:0,class:"container"},Q={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},X={class:"card shadow-sm"},Z={class:"card-body"},tt={class:"card-text"},st={key:0,class:"bi bi-patch-check-fill text-primary"},ot=["src"],et={class:"card-body"},at={class:"card-text"},ct={class:"d-flex justify-content-between align-items-center"},nt={class:"btn-group"},lt=f(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),dt={class:"text-muted"},it={key:1,class:"container"},rt={class:"row py-lg-5"},_t={class:"col-lg-6 col-md-8 mx-auto"},ut=f(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),pt=f(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1)),ht=A({__name:"index",setup(u){const{$clip:w,$compare:g}=M(),{account:e,library:v,chainId:y}=q();S([e],()=>{e.value&&k()});function I(c,a){w(c,a)}const m=B(),p=F([]);function k(){const c=new v.value.eth.Contract(z,E[y.value]);c.methods.getCurrentNFTId().call({from:e.value}).then(async a=>{if(a>0){for(let o=1;o<=a;o++){const s=await c.methods.nftById(o).call();if(s.owner===e.value){const h=await c.methods.collectionMap(s.token).call(),{data:C}=await U(o.toString(),()=>$fetch(s.tokenURI),"$ppYHNY9dqY"),$={...s,collection:h,metadata:C.value};p.value.push($)}}p.value.sort(g("nftId"))}})}return V(()=>{!!v.value&&!!e.value&&!!y.value&&k()}),(c,a)=>{const o=D;return n(),l("main",null,[t("section",H,[t("div",W,[t("div",G,[J,t("p",K,d(i(e)),1),t("p",null,[t("button",{class:x(`btn my-2 ${i(m)?"btn-success":"btn-primary"}`),onClick:a[0]||(a[0]=s=>I(i(e),s))},[t("i",{class:x(`bi ${i(m)?"bi-clipboard2-check":"bi-clipboard2"}`)},null,2),b(" "+d(i(m)?"Cope Success":"Cope Address"),1)],2)])])])]),t("div",O,[p.value.length>0?(n(),l("div",P,[t("div",Q,[(n(!0),l(L,null,T(p.value,s=>(n(),l("div",{class:"col",key:s.nftId},[t("div",X,[t("div",Z,[t("p",tt,[r(o,{to:`/account/nfts/${s.collection.token}`},{default:_(()=>[b(d(s.collection.name),1)]),_:2},1032,["to"]),s.collection.approve?(n(),l("i",st)):Y("",!0)])]),r(o,{to:`/account/nfts/${s.token}-${s.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:_(()=>{var h;return[t("img",{src:(h=s.metadata)==null?void 0:h.fileUrl},null,8,ot)]}),_:2},1032,["to"]),t("div",et,[t("p",at,[r(o,{to:`/account/nfts/${s.token}-${s.tokenId}`},{default:_(()=>[b(d(s.collection.symbol)+" - "+d(s.tokenId),1)]),_:2},1032,["to"])]),t("div",ct,[t("div",nt,[r(o,{to:`/account/nfts/${s.token}-${s.tokenId}`},{default:_(()=>[lt]),_:2},1032,["to"])]),t("small",dt,"ID: "+d(s.nftId),1)])])])]))),128))])])):(n(),l("div",it,[t("div",rt,[t("div",_t,[ut,t("p",null,[r(o,{to:"/create"},{default:_(()=>[pt]),_:1})])])])]))])])}}});var yt=N(ht,[["__scopeId","data-v-4dd9a748"]]);export{yt as default};
