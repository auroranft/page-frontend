import{_ as $,d as A,u as L,w as M,b as B,r as F,e as V,o as a,c as n,a as t,t as l,n as I,g as w,F as T,f as j,i as r,j as _,p as D,k as R,l as U,h as z}from"./entry-f37e1690.mjs";import{u as E}from"./asyncData-3edde299.mjs";import{u as O}from"./useWeb3-0193a35d.mjs";import{M as P,a as W}from"./Market_abi-93ee176c.mjs";const q=A({__name:"index",setup(d,{expose:u}){u();const{$clip:v,$compare:o}=L(),{account:c,library:p,chainId:e}=O();M([c],()=>{c.value&&x()});function s(i,h){v(i,h)}const f=B(),k=F([]);function x(){const i=new p.value.eth.Contract(P,W[e.value]);i.methods.getCurrentNFTId().call({from:c.value}).then(async h=>{if(h>0){for(let m=1;m<=h;m++){const b=await i.methods.nftById(m).call();if(b.owner===c.value){const C=await i.methods.collectionMap(b.token).call(),{data:N}=await E(m.toString(),()=>$fetch(b.tokenURI)),S={...b,collection:C,metadata:N.value};k.value.push(S)}}k.value.sort(o("nftId"))}})}V(()=>{!!p.value&&!!c.value&&!!e.value&&x()});const g={$clip:v,$compare:o,account:c,library:p,chainId:e,copyAddress:s,isCopy:f,nftsList:k,getNftsList:x};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),y=d=>(D("data-v-4dd9a748"),d=d(),R(),d),G={class:"py-5 text-center container"},H={class:"row py-lg-5"},J={class:"col-lg-6 col-md-8 mx-auto"},K=y(()=>t("h1",{class:"fw-light"},"My NFTs",-1)),Q={class:"lead text-muted text-truncate"},X={class:"album py-5 bg-light"},Y={key:0,class:"container"},Z={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},tt={class:"card shadow-sm"},st={class:"card-body"},ot={class:"card-text"},et={key:0,class:"bi bi-patch-check-fill text-primary"},ct=["src"],at={class:"card-body"},nt={class:"card-text"},lt={class:"d-flex justify-content-between align-items-center"},dt={class:"btn-group"},it=y(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),rt={class:"text-muted"},_t={key:1,class:"container"},ut={class:"row py-lg-5"},pt={class:"col-lg-6 col-md-8 mx-auto"},ft=y(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),ht=y(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1));function mt(d,u,v,o,c,p){const e=U;return a(),n("main",null,[t("section",G,[t("div",H,[t("div",J,[K,t("p",Q,l(o.account),1),t("p",null,[t("button",{class:I(`btn my-2 ${o.isCopy?"btn-success":"btn-primary"}`),onClick:u[0]||(u[0]=s=>o.copyAddress(o.account,s))},[t("i",{class:I(`bi ${o.isCopy?"bi-clipboard2-check":"bi-clipboard2"}`)},null,2),w(" "+l(o.isCopy?"Cope Success":"Cope Address"),1)],2)])])])]),t("div",X,[o.nftsList.length>0?(a(),n("div",Y,[t("div",Z,[(a(!0),n(T,null,j(o.nftsList,s=>(a(),n("div",{class:"col",key:s.nftId},[t("div",tt,[t("div",st,[t("p",ot,[r(e,{to:`/account/nfts/${s.collection.token}`},{default:_(()=>[w(l(s.collection.name),1)]),_:2},1032,["to"]),s.collection.approve?(a(),n("i",et)):z("",!0)])]),r(e,{to:`/account/nfts/${s.token}-${s.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:_(()=>{var f;return[t("img",{src:(f=s.metadata)==null?void 0:f.fileUrl},null,8,ct)]}),_:2},1032,["to"]),t("div",at,[t("p",nt,[r(e,{to:`/account/nfts/${s.token}-${s.tokenId}`},{default:_(()=>[w(l(s.collection.symbol)+" - "+l(s.tokenId),1)]),_:2},1032,["to"])]),t("div",lt,[t("div",dt,[r(e,{to:`/account/nfts/${s.token}-${s.tokenId}`},{default:_(()=>[it]),_:2},1032,["to"])]),t("small",rt,"ID: "+l(s.nftId),1)])])])]))),128))])])):(a(),n("div",_t,[t("div",ut,[t("div",pt,[ft,t("p",null,[r(e,{to:"/create"},{default:_(()=>[ht]),_:1})])])])]))])])}var xt=$(q,[["render",mt],["__scopeId","data-v-4dd9a748"]]);export{xt as default};
