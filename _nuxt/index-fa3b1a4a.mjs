import{_ as w,d as N,u as $,w as C,b as F,r as A,e as S,o as a,c as n,a as e,F as T,f as L,j as c,k as l,O as V,l as M,g as I,t as f,h as B,p as D,m as R}from"./entry-edde8571.mjs";import{u as j}from"./useLoading-6c61759c.mjs";import{u as Q}from"./asyncData-26a9fddb.mjs";import{u as U}from"./useWeb3-8a74333c.mjs";import{b as E}from"./index-745e66ed.mjs";import{A as O}from"./AuroranNFTQuery-e3f22263.mjs";const v=d=>(D("data-v-e0cb127e"),d=d(),R(),d),P=V('<section class="py-5 text-center container" data-v-e0cb127e><div class="row py-lg-5" data-v-e0cb127e><div class="col-lg-6 col-md-8 mx-auto" data-v-e0cb127e><h1 class="fw-light" data-v-e0cb127e>NFT Marketplace</h1><p class="lead text-muted" data-v-e0cb127e>MarketplaceMarketplaceMarketplace</p></div></div></section>',1),W={class:"album py-5 bg-light"},q={key:0,class:"container"},z={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},G={class:"card shadow-sm"},H={class:"card-body"},J={class:"card-text"},K={key:0,class:"bi bi-patch-check-fill text-primary"},X=["src"],Y={class:"card-body"},Z={class:"card-text"},tt={class:"d-flex justify-content-between align-items-center"},et={class:"btn-group"},st=v(()=>e("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),ot={class:"text-muted"},at={key:1,class:"container"},nt={class:"row py-lg-5"},ct={class:"col-lg-6 col-md-8 mx-auto"},lt=v(()=>e("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),dt=v(()=>e("button",{type:"button",class:"btn btn-primary"}," Create ",-1)),rt=N({__name:"index",setup(d){const m=j(),{$clip:it,$compare:g}=$(),{account:r,library:i,chainId:u}=U();C([r,i,u],()=>{!!i.value&&!!r.value&&!!u.value&&b()}),F();const o=A([]);function b(){m.value=!0,o.value=[];const p=new i.value.eth.Contract(O,E[u.value]);p.methods.getSaleNFTList().call({from:r.value}).then(async h=>{if(h.length>0){const s=h.map(async(t,_)=>{const k=await p.methods.getCollection(t.nftInfo.token).call(),{data:y}=await Q(_.toString(),()=>$fetch(t.nftInfo.tokenURI),"$28F2kTksn1"),x={...t,nftId:t.nftInfo.nftId,collection:k,metadata:y.value};o.value.push(x)});await Promise.all(s),o.value.length>0&&o.value.sort(g("nftId"))}m.value=!1})}return S(()=>{!!i.value&&!!r.value&&!!u.value&&b()}),(p,h)=>{const s=M;return a(),n("main",null,[P,e("div",W,[o.value.length>0?(a(),n("div",q,[e("div",z,[(a(!0),n(T,null,L(o.value,t=>(a(),n("div",{class:"col",key:t.nftId},[e("div",G,[e("div",H,[e("p",J,[c(s,{to:`/assets/${t.collection.token}`},{default:l(()=>[I(f(t.collection.name),1)]),_:2},1032,["to"]),t.collection.approve?(a(),n("i",K)):B("",!0)])]),c(s,{to:`/assets/${t.nftInfo.token}-${t.nftInfo.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:l(()=>{var _;return[e("img",{src:(_=t.metadata)==null?void 0:_.fileUrl},null,8,X)]}),_:2},1032,["to"]),e("div",Y,[e("p",Z,[c(s,{to:`/assets/${t.nftInfo.token}-${t.nftInfo.tokenId}`},{default:l(()=>[I(f(t.collection.symbol)+" - "+f(t.nftInfo.tokenId),1)]),_:2},1032,["to"])]),e("div",tt,[e("div",et,[c(s,{to:`/assets/${t.nftInfo.token}-${t.nftInfo.tokenId}`},{default:l(()=>[st]),_:2},1032,["to"])]),e("small",ot,"ID: "+f(t.nftId),1)])])])]))),128))])])):(a(),n("div",at,[e("div",nt,[e("div",ct,[lt,e("p",null,[c(s,{to:"/create"},{default:l(()=>[dt]),_:1})])])])]))])])}}});var mt=w(rt,[["__scopeId","data-v-e0cb127e"]]);export{mt as default};
