import{_ as L,d as S,N as B,u as T,w as V,b as R,r as D,e as M,o,c as e,a as t,t as c,i,n as w,g as k,F as U,f as j,j as r,k as u,l as P,h as Q,p as q,m as z,q as E}from"./entry-edde8571.mjs";import{u as H}from"./asyncData-26a9fddb.mjs";import{u as W}from"./useLoading-6c61759c.mjs";import{u as G}from"./useWeb3-8a74333c.mjs";import{b as J}from"./index-745e66ed.mjs";import{A as K}from"./AuroranNFTQuery-e3f22263.mjs";const y=_=>(q("data-v-1146892c"),_=_(),z(),_),O={class:"py-5 text-center container"},X={class:"row py-lg-5"},Y={class:"col-lg-6 col-md-8 mx-auto"},Z=y(()=>t("h1",{class:"fw-light"},"My Collection",-1)),tt={class:"lead text-muted text-truncate"},st={class:"album py-5 bg-light"},ot={key:0,class:"container"},et={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},at={class:"card shadow-sm"},nt={class:"card-body"},ct={class:"card-text"},lt={key:0,class:"bi bi-patch-check-fill text-primary"},dt=["src"],it={key:1,src:E},rt={class:"card-body"},ut={class:"card-text"},_t={class:"d-flex justify-content-between align-items-center"},ft={class:"btn-group"},pt=y(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),ht={class:"text-muted"},mt={key:1,class:"container"},vt={class:"row py-lg-5"},yt={class:"col-lg-6 col-md-8 mx-auto"},bt=y(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),It=y(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1)),kt=S({__name:"[token]",setup(_){const b=B().params.token,g=W(),{$clip:C,$compare:N}=T(),{account:f,library:p,chainId:h}=G();V([f,p,h],()=>{!!p.value&&!!f.value&&!!h.value&&x()});function $(d,a){C(d,a)}const I=R(),l=D([]);function x(){g.value=!0,l.value=[];const d=new p.value.eth.Contract(K,J[h.value]);d.methods.getMyNFTListByCollection(b).call({from:f.value}).then(async a=>{if(a.length>0){const n=a.map(async(s,m)=>{const v=await d.methods.getCollection(s.nftInfo.token).call(),{data:A}=await H(m.toString(),()=>$fetch(s.nftInfo.tokenURI),"$AHPxx98at7"),F={...s,nftId:s.nftInfo.nftId,collection:v,metadata:A.value};l.value.push(F)});await Promise.all(n),l.value.sort(N("nftId"))}g.value=!1})}return M(()=>{!!p.value&&!!f.value&&!!h.value&&x()}),(d,a)=>{const n=P;return o(),e("main",null,[t("section",O,[t("div",X,[t("div",Y,[Z,t("p",tt,c(i(b)),1),t("p",null,[t("button",{class:w(`btn my-2 ${i(I)?"btn-success":"btn-primary"}`),onClick:a[0]||(a[0]=s=>$(i(b),s))},[t("i",{class:w(`bi ${i(I)?"bi-clipboard2-check":"bi-clipboard2"}`)},null,2),k(" "+c(i(I)?"Cope Success":"Cope Address"),1)],2)])])])]),t("div",st,[l.value.length>0?(o(),e("div",ot,[t("div",et,[(o(!0),e(U,null,j(l.value,s=>(o(),e("div",{class:"col",key:s.nftId},[t("div",at,[t("div",nt,[t("p",ct,[r(n,{to:`/assets/${s.collection.token}`},{default:u(()=>[k(c(s.collection.name),1)]),_:2},1032,["to"]),s.collection.approve?(o(),e("i",lt)):Q("",!0)])]),r(n,{to:`/assets/${s.nftInfo.token}-${s.nftInfo.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:u(()=>{var m,v;return[(m=s.metadata)!=null&&m.fileUrl?(o(),e("img",{key:0,src:(v=s.metadata)==null?void 0:v.fileUrl},null,8,dt)):(o(),e("img",it))]}),_:2},1032,["to"]),t("div",rt,[t("p",ut,[r(n,{to:`/assets/${s.nftInfo.token}-${s.nftInfo.tokenId}`},{default:u(()=>[k(c(s.collection.symbol)+" - "+c(s.nftInfo.tokenId),1)]),_:2},1032,["to"])]),t("div",_t,[t("div",ft,[r(n,{to:`/assets/${s.nftInfo.token}-${s.nftInfo.tokenId}`},{default:u(()=>[pt]),_:2},1032,["to"])]),t("small",ht,"ID: "+c(s.nftId),1)])])])]))),128))])])):(o(),e("div",mt,[t("div",vt,[t("div",yt,[bt,t("p",null,[r(n,{to:"/create"},{default:u(()=>[It]),_:1})])])])]))])])}}});var Ft=L(kt,[["__scopeId","data-v-1146892c"]]);export{Ft as default};
