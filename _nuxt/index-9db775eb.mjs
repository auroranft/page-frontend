import{_ as M,d as C,u as S,w as L,b as V,r as A,e as B,o as a,c,a as t,F,f as T,i,j as r,M as j,p as D,k as R,l as U,g as I,t as m,h as E}from"./entry-f37e1690.mjs";import{u as O}from"./asyncData-3edde299.mjs";import{u as P}from"./useWeb3-0193a35d.mjs";import{M as W,a as q}from"./Market_abi-93ee176c.mjs";const z=C({__name:"index",setup(n,{expose:x}){x();const{$clip:v,$compare:d}=S(),{account:o,library:_,chainId:e}=P();L([o],()=>{o.value&&y()});function s(l,p){v(l,p)}const u=V(),k=A([]);function y(){const l=new _.value.eth.Contract(W,q[e.value]);l.methods.getCurrentNFTId().call({from:o.value}).then(async p=>{if(p>0){for(let f=1;f<=p;f++){const h=await l.methods.nftById(f).call();if(h.onSale){const g=await l.methods.collectionMap(h.token).call();if(g.show){const{data:N}=await O(f.toString(),()=>$fetch(h.tokenURI)),$={...h,collection:g,metadata:N.value};k.value.push($)}}}k.value.sort(d("nftId"))}})}B(()=>{!!_.value&&!!o.value&&!!e.value&&y()});const w={$clip:v,$compare:d,account:o,library:_,chainId:e,copyAddress:s,isCopy:u,nftsList:k,getNftsList:y};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),b=n=>(D("data-v-8da4f852"),n=n(),R(),n),G=j('<section class="py-5 text-center container" data-v-8da4f852><div class="row py-lg-5" data-v-8da4f852><div class="col-lg-6 col-md-8 mx-auto" data-v-8da4f852><h1 class="fw-light" data-v-8da4f852>NFT Marketplace</h1><p class="lead text-muted" data-v-8da4f852>MarketplaceMarketplaceMarketplace</p></div></div></section>',1),H={class:"album py-5 bg-light"},J={key:0,class:"container"},K={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},Q={class:"card shadow-sm"},X={class:"card-body"},Y={class:"card-text"},Z={key:0,class:"bi bi-patch-check-fill text-primary"},tt=["src"],st={class:"card-body"},et={class:"card-text"},ot={class:"d-flex justify-content-between align-items-center"},at={class:"btn-group"},ct=b(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),nt={class:"text-muted"},dt={key:1,class:"container"},lt={class:"row py-lg-5"},it={class:"col-lg-6 col-md-8 mx-auto"},rt=b(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),_t=b(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1));function ut(n,x,v,d,o,_){const e=U;return a(),c("main",null,[G,t("div",H,[d.nftsList.length>0?(a(),c("div",J,[t("div",K,[(a(!0),c(F,null,T(d.nftsList,s=>(a(),c("div",{class:"col",key:s.nftId},[t("div",Q,[t("div",X,[t("p",Y,[i(e,{to:`/assets/${s.collection.token}`},{default:r(()=>[I(m(s.collection.name),1)]),_:2},1032,["to"]),s.collection.approve?(a(),c("i",Z)):E("",!0)])]),i(e,{to:`/assets/${s.token}-${s.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:r(()=>{var u;return[t("img",{src:(u=s.metadata)==null?void 0:u.fileUrl},null,8,tt)]}),_:2},1032,["to"]),t("div",st,[t("p",et,[i(e,{to:`/assets/${s.token}-${s.tokenId}`},{default:r(()=>[I(m(s.collection.symbol)+" - "+m(s.tokenId),1)]),_:2},1032,["to"])]),t("div",ot,[t("div",at,[i(e,{to:`/assets/${s.token}-${s.tokenId}`},{default:r(()=>[ct]),_:2},1032,["to"])]),t("small",nt,"ID: "+m(s.nftId),1)])])])]))),128))])])):(a(),c("div",dt,[t("div",lt,[t("div",it,[rt,t("p",null,[i(e,{to:"/create"},{default:r(()=>[_t]),_:1})])])])]))])])}var vt=M(z,[["render",ut],["__scopeId","data-v-8da4f852"]]);export{vt as default};
