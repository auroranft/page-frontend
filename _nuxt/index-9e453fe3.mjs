import{_ as F,d as L,u as S,w as T,b as B,r as V,e as D,o,c as e,a as t,t as d,i as r,n as x,g as I,F as R,f as U,j as u,k as _,l as j,h as z,p as M,m as Q,q}from"./entry-edde8571.mjs";import{u as E}from"./useLoading-6c61759c.mjs";import{u as H}from"./asyncData-26a9fddb.mjs";import{u as O}from"./useWeb3-8a74333c.mjs";import{b as P}from"./index-745e66ed.mjs";import{A as W}from"./AuroranNFTQuery-e3f22263.mjs";const b=f=>(M("data-v-4840c1b2"),f=f(),Q(),f),X={class:"py-5 text-center container"},G={class:"row py-lg-5"},J={class:"col-lg-6 col-md-8 mx-auto"},K=b(()=>t("h1",{class:"fw-light"},"My NFTs",-1)),Y={class:"lead text-muted text-truncate"},Z={class:"album py-5 bg-light"},tt={key:0,class:"container"},st={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},ot={class:"card shadow-sm"},et={class:"card-body"},nt={class:"card-text"},at={key:0,class:"bi bi-patch-check-fill text-primary"},ct=["src"],lt={key:1,src:q},dt={class:"card-body"},it={class:"card-text"},rt={class:"d-flex justify-content-between align-items-center"},ut={class:"btn-group"},_t=b(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),ft={class:"text-muted"},pt={key:1,class:"container"},ht={class:"row py-lg-5"},mt={class:"col-lg-6 col-md-8 mx-auto"},vt=b(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),bt=b(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1)),yt=L({__name:"index",setup(f){const g=E(),{$clip:w,$compare:N}=S(),{account:c,library:p,chainId:h}=O();T([c,p,h],()=>{!!p.value&&!!c.value&&!!h.value&&k()});function C(i,n){w(i,n)}const y=B(),l=V([]);function k(){g.value=!0,l.value=[];const i=new p.value.eth.Contract(W,P[h.value]);i.methods.getNFTListByOwner().call({from:c.value}).then(async n=>{if(n.length>0){const a=n.map(async(s,m)=>{const v=await i.methods.getCollection(s.nftInfo.token).call(),{data:$}=await H(m.toString(),()=>$fetch(s.nftInfo.tokenURI),"$NpzXpN8Hga"),A={...s,nftId:s.nftInfo.nftId,collection:v,metadata:$.value};l.value.push(A)});await Promise.all(a),l.value.length>0&&l.value.sort(N("nftId"))}g.value=!1})}return D(()=>{!!p.value&&!!c.value&&!!h.value&&k()}),(i,n)=>{const a=j;return o(),e("main",null,[t("section",X,[t("div",G,[t("div",J,[K,t("p",Y,d(r(c)),1),t("p",null,[t("button",{class:x(`btn my-2 ${r(y)?"btn-success":"btn-primary"}`),onClick:n[0]||(n[0]=s=>C(r(c),s))},[t("i",{class:x(`bi ${r(y)?"bi-clipboard2-check":"bi-clipboard2"}`)},null,2),I(" "+d(r(y)?"Cope Success":"Cope Address"),1)],2)])])])]),t("div",Z,[l.value.length>0?(o(),e("div",tt,[t("div",st,[(o(!0),e(R,null,U(l.value,s=>(o(),e("div",{class:"col",key:s.nftId},[t("div",ot,[t("div",et,[t("p",nt,[u(a,{to:`/account/nfts/${s.collection.token}`},{default:_(()=>[I(d(s.collection.name),1)]),_:2},1032,["to"]),s.collection.approve?(o(),e("i",at)):z("",!0)])]),u(a,{to:`/account/nfts/${s.nftInfo.token}-${s.nftInfo.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:_(()=>{var m,v;return[(m=s.metadata)!=null&&m.fileUrl?(o(),e("img",{key:0,src:(v=s.metadata)==null?void 0:v.fileUrl},null,8,ct)):(o(),e("img",lt))]}),_:2},1032,["to"]),t("div",dt,[t("p",it,[u(a,{to:`/account/nfts/${s.nftInfo.token}-${s.nftInfo.tokenId}`},{default:_(()=>[I(d(s.collection.symbol)+" - "+d(s.nftInfo.tokenId),1)]),_:2},1032,["to"])]),t("div",rt,[t("div",ut,[u(a,{to:`/account/nfts/${s.nftInfo.token}-${s.nftInfo.tokenId}`},{default:_(()=>[_t]),_:2},1032,["to"])]),t("small",ft,"ID: "+d(s.nftId),1)])])])]))),128))])])):(o(),e("div",pt,[t("div",ht,[t("div",mt,[vt,t("p",null,[u(a,{to:"/create"},{default:_(()=>[bt]),_:1})])])])]))])])}}});var Ct=F(yt,[["__scopeId","data-v-4840c1b2"]]);export{Ct as default};
