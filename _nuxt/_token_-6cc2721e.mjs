import{_ as F,d as L,N as V,u as B,w as T,b as R,r as D,e as M,o as s,c as e,a as t,t as c,i,n as w,g as k,F as Q,f as U,j as r,k as u,l as j,h as q,p as z,m as E,q as P}from"./entry-edde8571.mjs";import{u as W}from"./asyncData-26a9fddb.mjs";import{u as X}from"./useLoading-6c61759c.mjs";import{u as G}from"./useWeb3-8a74333c.mjs";import{b as H}from"./index-745e66ed.mjs";import{A as J}from"./AuroranNFTQuery-e3f22263.mjs";const y=_=>(z("data-v-50dfcd3e"),_=_(),E(),_),K={class:"py-5 text-center container"},O={class:"row py-lg-5"},Y={class:"col-lg-6 col-md-8 mx-auto"},Z=y(()=>t("h1",{class:"fw-light"},"My Collection",-1)),tt={class:"lead text-muted text-truncate"},ot={class:"album py-5 bg-light"},st={key:0,class:"container"},et={class:"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4"},nt={class:"card shadow-sm"},at={class:"card-body"},ct={class:"card-text"},lt={key:0,class:"bi bi-patch-check-fill text-primary"},dt=["src"],it={key:1,src:P},rt={class:"card-body"},ut={class:"card-text"},_t={class:"d-flex justify-content-between align-items-center"},ft={class:"btn-group"},pt=y(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-primary"},"View",-1)),ht={class:"text-muted"},mt={key:1,class:"container"},vt={class:"row py-lg-5"},yt={class:"col-lg-6 col-md-8 mx-auto"},bt=y(()=>t("p",{class:"lead text-muted"},"No NFTs to show here..",-1)),It=y(()=>t("button",{type:"button",class:"btn btn-primary"}," Create ",-1)),kt=L({__name:"[token]",setup(_){const b=V().params.token,g=X(),{$clip:C,$compare:N}=B(),{account:f,library:p,chainId:h}=G();T([f,p,h],()=>{!!p.value&&!!f.value&&!!h.value&&x()});function $(d,n){C(d,n)}const I=R(),l=D([]);function x(){g.value=!0,l.value=[];const d=new p.value.eth.Contract(J,H[h.value]);d.methods.getMyNFTListByCollection(b).call({from:f.value}).then(async n=>{if(n.length>0){const a=n.map(async(o,m)=>{const v=await d.methods.getCollection(o.nftInfo.token).call(),{data:A}=await W(m.toString(),()=>$fetch(o.nftInfo.tokenURI),"$3QnVSq7Xoy"),S={...o,nftId:o.nftInfo.nftId,collection:v,metadata:A.value};l.value.push(S)});await Promise.all(a),l.value.sort(N("nftId"))}g.value=!1})}return M(()=>{!!p.value&&!!f.value&&!!h.value&&x()}),(d,n)=>{const a=j;return s(),e("main",null,[t("section",K,[t("div",O,[t("div",Y,[Z,t("p",tt,c(i(b)),1),t("p",null,[t("button",{class:w(`btn my-2 ${i(I)?"btn-success":"btn-primary"}`),onClick:n[0]||(n[0]=o=>$(i(b),o))},[t("i",{class:w(`bi ${i(I)?"bi-clipboard2-check":"bi-clipboard2"}`)},null,2),k(" "+c(i(I)?"Cope Success":"Cope Address"),1)],2)])])])]),t("div",ot,[l.value.length>0?(s(),e("div",st,[t("div",et,[(s(!0),e(Q,null,U(l.value,o=>(s(),e("div",{class:"col",key:o.nftId},[t("div",nt,[t("div",at,[t("p",ct,[r(a,{to:`/account/nfts/${o.collection.token}`},{default:u(()=>[k(c(o.collection.name),1)]),_:2},1032,["to"]),o.collection.approve?(s(),e("i",lt)):q("",!0)])]),r(a,{to:`/account/nfts/${o.nftInfo.token}-${o.nftInfo.tokenId}`,class:"ratio ratio-1x1 nft-img"},{default:u(()=>{var m,v;return[(m=o.metadata)!=null&&m.fileUrl?(s(),e("img",{key:0,src:(v=o.metadata)==null?void 0:v.fileUrl},null,8,dt)):(s(),e("img",it))]}),_:2},1032,["to"]),t("div",rt,[t("p",ut,[r(a,{to:`/account/nfts/${o.nftInfo.token}-${o.nftInfo.tokenId}`},{default:u(()=>[k(c(o.collection.symbol)+" - "+c(o.nftInfo.tokenId),1)]),_:2},1032,["to"])]),t("div",_t,[t("div",ft,[r(a,{to:`/account/nfts/${o.nftInfo.token}-${o.nftInfo.tokenId}`},{default:u(()=>[pt]),_:2},1032,["to"])]),t("small",ht,"ID: "+c(o.nftId),1)])])])]))),128))])])):(s(),e("div",mt,[t("div",vt,[t("div",yt,[bt,t("p",null,[r(a,{to:"/create"},{default:u(()=>[It]),_:1})])])])]))])])}}});var St=F(kt,[["__scopeId","data-v-50dfcd3e"]]);export{St as default};
