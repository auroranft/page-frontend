import{x as tr,r as zt,y as Er,w as ir,z as Nr,A as Lt,B as or}from"./entry-f37e1690.mjs";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $t=function(r,e){return $t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(n[i]=u[i])},$t(r,e)};function yr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Yt(r,e,n,u){function i(h){return h instanceof n?h:new n(function(v){v(h)})}return new(n||(n=Promise))(function(h,v){function s(y){try{c(u.next(y))}catch(A){v(A)}}function E(y){try{c(u.throw(y))}catch(A){v(A)}}function c(y){y.done?h(y.value):i(y.value).then(s,E)}c((u=u.apply(r,e||[])).next())})}function qt(r,e){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,i,h,v;return v={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function s(c){return function(y){return E([c,y])}}function E(c){if(u)throw new TypeError("Generator is already executing.");for(;n;)try{if(u=1,i&&(h=c[0]&2?i.return:c[0]?i.throw||((h=i.return)&&h.call(i),0):i.next)&&!(h=h.call(i,c[1])).done)return h;switch(i=0,h&&(c=[c[0]&2,h.value]),c[0]){case 0:case 1:h=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!h||c[1]>h[0]&&c[1]<h[3])){n.label=c[1];break}if(c[0]===6&&n.label<h[1]){n.label=h[1],h=c;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(c);break}h[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(r,n)}catch(y){c=[6,y],i=0}finally{u=h=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}const xr="logger/5.4.1";let ar=!1,ur=!1;const Gt={debug:1,default:2,info:2,warning:3,error:4,off:5};let fr=Gt.default,Jt=null;function wr(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const cr=wr();var Qt;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Qt||(Qt={}));var Zt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Zt||(Zt={}));const lr="0123456789abcdef";class w{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const u=e.toLowerCase();Gt[u]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(fr>Gt[u])&&console.log.apply(console,n)}debug(...e){this._log(w.levels.DEBUG,e)}info(...e){this._log(w.levels.INFO,e)}warn(...e){this._log(w.levels.WARNING,e)}makeError(e,n,u){if(ur)return this.makeError("censored error",n,{});n||(n=w.errors.UNKNOWN_ERROR),u||(u={});const i=[];Object.keys(u).forEach(s=>{const E=u[s];try{if(E instanceof Uint8Array){let c="";for(let y=0;y<E.length;y++)c+=lr[E[y]>>4],c+=lr[E[y]&15];i.push(s+"=Uint8Array(0x"+c+")")}else i.push(s+"="+JSON.stringify(E))}catch{i.push(s+"="+JSON.stringify(u[s].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const h=e;i.length&&(e+=" ("+i.join(", ")+")");const v=new Error(e);return v.reason=h,v.code=n,Object.keys(u).forEach(function(s){v[s]=u[s]}),v}throwError(e,n,u){throw this.makeError(e,n,u)}throwArgumentError(e,n,u){return this.throwError(e,w.errors.INVALID_ARGUMENT,{argument:n,value:u})}assert(e,n,u,i){e||this.throwError(n,u,i)}assertArgument(e,n,u,i){e||this.throwArgumentError(n,u,i)}checkNormalize(e){cr&&this.throwError("platform missing String.prototype.normalize",w.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:cr})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,u){u?u=": "+u:u="",e<n&&this.throwError("missing argument"+u,w.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+u,w.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",w.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",w.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",w.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Jt||(Jt=new w(xr)),Jt}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ar){if(!e)return;this.globalLogger().throwError("error censorship permanent",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ur=!!e,ar=!!n}static setLogLevel(e){const n=Gt[e.toLowerCase()];if(n==null){w.globalLogger().warn("invalid log level - "+e);return}fr=n}static from(e){return new w(e)}}w.errors=Zt;w.levels=Qt;const Ir="bytes/5.4.0",Xt=new w(Ir);function Rr(r){return!!r.toHexString}function jt(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return jt(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Ar(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||r.length==null)return!1;for(let e=0;e<r.length;e++){const n=r[e];if(typeof n!="number"||n<0||n>=256||n%1)return!1}return!0}function hr(r,e){if(e||(e={}),typeof r=="number"){Xt.checkSafeUint53(r,"invalid arrayify value");const n=[];for(;r;)n.unshift(r&255),r=parseInt(String(r/256));return n.length===0&&n.push(0),jt(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Rr(r)&&(r=r.toHexString()),Ur(r)){let n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":Xt.throwArgumentError("hex data is odd-length","value",r));const u=[];for(let i=0;i<n.length;i+=2)u.push(parseInt(n.substring(i,i+2),16));return jt(new Uint8Array(u))}return Ar(r)?jt(new Uint8Array(r)):Xt.throwArgumentError("invalid arrayify value","value",r)}function Ur(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var Or=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof or!="undefined"?or:typeof self!="undefined"?self:{};function Sr(r){var e={exports:{}};return r(e,e.exports),e.exports}/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */var _r=Sr(function(r){(function(){var e=typeof window=="object"?window:{},n=!e.JS_SHA3_NO_NODE_JS&&typeof Lt=="object"&&Lt.versions&&Lt.versions.node;n&&(e=Or);for(var u=!e.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,i="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],v=[1,256,65536,16777216],s=[6,1536,393216,100663296],E=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],A=[128,256],U=["hex","buffer","arrayBuffer","array"],O=function(t,o,a){return function(l){return new R(t,o,t).update(l)[a]()}},k=function(t,o,a){return function(l,b){return new R(t,o,b).update(l)[a]()}},rr=function(t,o){var a=O(t,o,"hex");a.create=function(){return new R(t,o,t)},a.update=function(N){return a.create().update(N)};for(var l=0;l<U.length;++l){var b=U[l];a[b]=O(t,o,b)}return a},pr=function(t,o){var a=k(t,o,"hex");a.create=function(N){return new R(t,o,N)},a.update=function(N,p){return a.create(p).update(N)};for(var l=0;l<U.length;++l){var b=U[l];a[b]=k(t,o,b)}return a},er=[{name:"keccak",padding:v,bits:y,createMethod:rr},{name:"sha3",padding:s,bits:y,createMethod:rr},{name:"shake",padding:h,bits:A,createMethod:pr}],Ht={},P=[],S=0;S<er.length;++S)for(var D=er[S],Kt=D.bits,M=0;M<Kt.length;++M){var nr=D.name+"_"+Kt[M];P.push(nr),Ht[nr]=D.createMethod(Kt[M],D.padding)}function R(t,o,a){this.blocks=[],this.s=[],this.padding=o,this.outputBits=a,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=a>>5,this.extraBytes=(a&31)>>3;for(var l=0;l<50;++l)this.s[l]=0}R.prototype.update=function(t){var o=typeof t!="string";o&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t));for(var a=t.length,l=this.blocks,b=this.byteCount,N=this.blockCount,p=0,d=this.s,f,x;p<a;){if(this.reset)for(this.reset=!1,l[0]=this.block,f=1;f<N+1;++f)l[f]=0;if(o)for(f=this.start;p<a&&f<b;++p)l[f>>2]|=t[p]<<E[f++&3];else for(f=this.start;p<a&&f<b;++p)x=t.charCodeAt(p),x<128?l[f>>2]|=x<<E[f++&3]:x<2048?(l[f>>2]|=(192|x>>6)<<E[f++&3],l[f>>2]|=(128|x&63)<<E[f++&3]):x<55296||x>=57344?(l[f>>2]|=(224|x>>12)<<E[f++&3],l[f>>2]|=(128|x>>6&63)<<E[f++&3],l[f>>2]|=(128|x&63)<<E[f++&3]):(x=65536+((x&1023)<<10|t.charCodeAt(++p)&1023),l[f>>2]|=(240|x>>18)<<E[f++&3],l[f>>2]|=(128|x>>12&63)<<E[f++&3],l[f>>2]|=(128|x>>6&63)<<E[f++&3],l[f>>2]|=(128|x&63)<<E[f++&3]);if(this.lastByteIndex=f,f>=b){for(this.start=f-b,this.block=l[N],f=0;f<N;++f)d[f]^=l[f];g(d),this.reset=!0}else this.start=f}return this},R.prototype.finalize=function(){var t=this.blocks,o=this.lastByteIndex,a=this.blockCount,l=this.s;if(t[o>>2]|=this.padding[o&3],this.lastByteIndex===this.byteCount)for(t[0]=t[a],o=1;o<a+1;++o)t[o]=0;for(t[a-1]|=2147483648,o=0;o<a;++o)l[o]^=t[o];g(l)},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var t=this.blockCount,o=this.s,a=this.outputBlocks,l=this.extraBytes,b=0,N=0,p="",d;N<a;){for(b=0;b<t&&N<a;++b,++N)d=o[b],p+=i[d>>4&15]+i[d&15]+i[d>>12&15]+i[d>>8&15]+i[d>>20&15]+i[d>>16&15]+i[d>>28&15]+i[d>>24&15];N%t===0&&(g(o),b=0)}return l&&(d=o[b],l>0&&(p+=i[d>>4&15]+i[d&15]),l>1&&(p+=i[d>>12&15]+i[d>>8&15]),l>2&&(p+=i[d>>20&15]+i[d>>16&15])),p},R.prototype.arrayBuffer=function(){this.finalize();var t=this.blockCount,o=this.s,a=this.outputBlocks,l=this.extraBytes,b=0,N=0,p=this.outputBits>>3,d;l?d=new ArrayBuffer(a+1<<2):d=new ArrayBuffer(p);for(var f=new Uint32Array(d);N<a;){for(b=0;b<t&&N<a;++b,++N)f[N]=o[b];N%t===0&&g(o)}return l&&(f[b]=o[b],d=d.slice(0,p)),d},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var t=this.blockCount,o=this.s,a=this.outputBlocks,l=this.extraBytes,b=0,N=0,p=[],d,f;N<a;){for(b=0;b<t&&N<a;++b,++N)d=N<<2,f=o[b],p[d]=f&255,p[d+1]=f>>8&255,p[d+2]=f>>16&255,p[d+3]=f>>24&255;N%t===0&&g(o)}return l&&(d=N<<2,f=o[b],l>0&&(p[d]=f&255),l>1&&(p[d+1]=f>>8&255),l>2&&(p[d+2]=f>>16&255)),p};var g=function(t){var o,a,l,b,N,p,d,f,x,B,G,j,W,z,H,K,L,J,X,V,$,Y,q,Q,Z,tt,rt,et,nt,it,ot,at,ut,ft,ct,lt,ht,vt,dt,bt,st,pt,Et,Nt,yt,xt,wt,It,Rt,At,Ut,Ot,St,_t,mt,Ct,Tt,gt,Ft,kt,Pt,Dt,Mt;for(l=0;l<48;l+=2)b=t[0]^t[10]^t[20]^t[30]^t[40],N=t[1]^t[11]^t[21]^t[31]^t[41],p=t[2]^t[12]^t[22]^t[32]^t[42],d=t[3]^t[13]^t[23]^t[33]^t[43],f=t[4]^t[14]^t[24]^t[34]^t[44],x=t[5]^t[15]^t[25]^t[35]^t[45],B=t[6]^t[16]^t[26]^t[36]^t[46],G=t[7]^t[17]^t[27]^t[37]^t[47],j=t[8]^t[18]^t[28]^t[38]^t[48],W=t[9]^t[19]^t[29]^t[39]^t[49],o=j^(p<<1|d>>>31),a=W^(d<<1|p>>>31),t[0]^=o,t[1]^=a,t[10]^=o,t[11]^=a,t[20]^=o,t[21]^=a,t[30]^=o,t[31]^=a,t[40]^=o,t[41]^=a,o=b^(f<<1|x>>>31),a=N^(x<<1|f>>>31),t[2]^=o,t[3]^=a,t[12]^=o,t[13]^=a,t[22]^=o,t[23]^=a,t[32]^=o,t[33]^=a,t[42]^=o,t[43]^=a,o=p^(B<<1|G>>>31),a=d^(G<<1|B>>>31),t[4]^=o,t[5]^=a,t[14]^=o,t[15]^=a,t[24]^=o,t[25]^=a,t[34]^=o,t[35]^=a,t[44]^=o,t[45]^=a,o=f^(j<<1|W>>>31),a=x^(W<<1|j>>>31),t[6]^=o,t[7]^=a,t[16]^=o,t[17]^=a,t[26]^=o,t[27]^=a,t[36]^=o,t[37]^=a,t[46]^=o,t[47]^=a,o=B^(b<<1|N>>>31),a=G^(N<<1|b>>>31),t[8]^=o,t[9]^=a,t[18]^=o,t[19]^=a,t[28]^=o,t[29]^=a,t[38]^=o,t[39]^=a,t[48]^=o,t[49]^=a,z=t[0],H=t[1],xt=t[11]<<4|t[10]>>>28,wt=t[10]<<4|t[11]>>>28,et=t[20]<<3|t[21]>>>29,nt=t[21]<<3|t[20]>>>29,kt=t[31]<<9|t[30]>>>23,Pt=t[30]<<9|t[31]>>>23,pt=t[40]<<18|t[41]>>>14,Et=t[41]<<18|t[40]>>>14,ft=t[2]<<1|t[3]>>>31,ct=t[3]<<1|t[2]>>>31,K=t[13]<<12|t[12]>>>20,L=t[12]<<12|t[13]>>>20,It=t[22]<<10|t[23]>>>22,Rt=t[23]<<10|t[22]>>>22,it=t[33]<<13|t[32]>>>19,ot=t[32]<<13|t[33]>>>19,Dt=t[42]<<2|t[43]>>>30,Mt=t[43]<<2|t[42]>>>30,_t=t[5]<<30|t[4]>>>2,mt=t[4]<<30|t[5]>>>2,lt=t[14]<<6|t[15]>>>26,ht=t[15]<<6|t[14]>>>26,J=t[25]<<11|t[24]>>>21,X=t[24]<<11|t[25]>>>21,At=t[34]<<15|t[35]>>>17,Ut=t[35]<<15|t[34]>>>17,at=t[45]<<29|t[44]>>>3,ut=t[44]<<29|t[45]>>>3,Q=t[6]<<28|t[7]>>>4,Z=t[7]<<28|t[6]>>>4,Ct=t[17]<<23|t[16]>>>9,Tt=t[16]<<23|t[17]>>>9,vt=t[26]<<25|t[27]>>>7,dt=t[27]<<25|t[26]>>>7,V=t[36]<<21|t[37]>>>11,$=t[37]<<21|t[36]>>>11,Ot=t[47]<<24|t[46]>>>8,St=t[46]<<24|t[47]>>>8,Nt=t[8]<<27|t[9]>>>5,yt=t[9]<<27|t[8]>>>5,tt=t[18]<<20|t[19]>>>12,rt=t[19]<<20|t[18]>>>12,gt=t[29]<<7|t[28]>>>25,Ft=t[28]<<7|t[29]>>>25,bt=t[38]<<8|t[39]>>>24,st=t[39]<<8|t[38]>>>24,Y=t[48]<<14|t[49]>>>18,q=t[49]<<14|t[48]>>>18,t[0]=z^~K&J,t[1]=H^~L&X,t[10]=Q^~tt&et,t[11]=Z^~rt&nt,t[20]=ft^~lt&vt,t[21]=ct^~ht&dt,t[30]=Nt^~xt&It,t[31]=yt^~wt&Rt,t[40]=_t^~Ct&gt,t[41]=mt^~Tt&Ft,t[2]=K^~J&V,t[3]=L^~X&$,t[12]=tt^~et&it,t[13]=rt^~nt&ot,t[22]=lt^~vt&bt,t[23]=ht^~dt&st,t[32]=xt^~It&At,t[33]=wt^~Rt&Ut,t[42]=Ct^~gt&kt,t[43]=Tt^~Ft&Pt,t[4]=J^~V&Y,t[5]=X^~$&q,t[14]=et^~it&at,t[15]=nt^~ot&ut,t[24]=vt^~bt&pt,t[25]=dt^~st&Et,t[34]=It^~At&Ot,t[35]=Rt^~Ut&St,t[44]=gt^~kt&Dt,t[45]=Ft^~Pt&Mt,t[6]=V^~Y&z,t[7]=$^~q&H,t[16]=it^~at&Q,t[17]=ot^~ut&Z,t[26]=bt^~pt&ft,t[27]=st^~Et&ct,t[36]=At^~Ot&Nt,t[37]=Ut^~St&yt,t[46]=kt^~Dt&_t,t[47]=Pt^~Mt&mt,t[8]=Y^~z&K,t[9]=q^~H&L,t[18]=at^~Q&tt,t[19]=ut^~Z&rt,t[28]=pt^~ft&lt,t[29]=Et^~ct&ht,t[38]=Ot^~Nt&xt,t[39]=St^~yt&wt,t[48]=Dt^~_t&Ct,t[49]=Mt^~mt&Tt,t[0]^=c[l],t[1]^=c[l+1]};if(u)r.exports=Ht;else for(var S=0;S<P.length;++S)e[P[S]]=Ht[P[S]]})()}),mr=_r;function Cr(r){return"0x"+mr.keccak_256(hr(r))}var Tr="Invariant failed";function Wt(r,e){if(!r)throw new Error(Tr)}function vr(r){if(typeof r=="string"){r=r.replace(/^Ox/,"0x");var e=Number.parseInt(r,r.trim().substring(0,2)==="0x"?16:10);return Wt(!Number.isNaN(e)),e}else return Wt(Number.isInteger(r)),r}function dr(r){Wt(typeof r=="string"&&r.match(/^(0x)?[0-9a-fA-F]{40}$/));for(var e=r.substring(0,2)==="0x"?r:"0x"+r,n=e.toLowerCase().substring(2).split(""),u=new Uint8Array(40),i=0;i<40;i++)u[i]=n[i].charCodeAt(0);for(var h=hr(Cr(u)),i=0;i<40;i+=2)h[i>>1]>>4>=8&&(n[i]=n[i].toUpperCase()),(h[i>>1]&15)>=8&&(n[i+1]=n[i+1].toUpperCase());var v="0x"+n.join("");return Wt(!(e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==v)),v}var m;(function(r){r.Update="Web3ReactUpdate",r.Error="Web3ReactError",r.Deactivate="Web3ReactDeactivate"})(m||(m={}));var br=function(r){yr(e,r);function e(n,u){var i=r.call(this)||this;return i.name="UnsupportedChainIdError",i.message="Unsupported chain id: "+n+". Supported chain ids are: "+u+".",Object.setPrototypeOf(i,e.prototype),i}return e}(Error),I=tr(),_=zt(),F=zt(),T=tr(),C=zt(),Bt=Er(function(){return I.value!==void 0&&_.value!==void 0&&F.value!==void 0&&!C.value}),Vt=tr(),sr=function(r,e){return function(){return null}},Pr=function(r){sr=r},gr=function(){var r=zt(),e=function(v,s,E){return E===void 0&&(E=!1),Yt(void 0,void 0,void 0,function(){var c,y,A,U;return qt(this,function(O){switch(O.label){case 0:c=!1,O.label=1;case 1:return O.trys.push([1,4,,5]),[4,v.activate().then(function(k){return c=!0,k})];case 2:return y=O.sent(),[4,Fr(v,y)];case 3:return A=O.sent(),I.value=v,_.value=A.chainId,T.value=A.provider,F.value=A.account,C.value=void 0,r.value=s,[3,5];case 4:if(U=O.sent(),C.value=U,E)throw c&&v.deactivate(),U;return s&&(c&&v.deactivate(),s(U)),[3,5];case 5:return[2]}})})},n=function(){var v;(v=I.value)===null||v===void 0||v.deactivate(),h()},u=function(v){return Yt(void 0,void 0,void 0,function(){var s,E,c;return qt(this,function(y){return C.value?(C.value=void 0,[2]):I.value?(s=v.chainId===void 0?void 0:vr(v.chainId),s!==void 0&&!!I.value.supportedChainIds&&!I.value.supportedChainIds.includes(s)?(E=new br(s,I.value.supportedChainIds),r.value?r.value(E):i(E),[2]):(s&&(_.value=s),v.provider&&(T.value=v.provider),c=typeof v.account=="string"?dr(v.account):v.account,c&&(F.value=c),[2])):(h(),[2])})})},i=function(v){var s;C.value=v,r.value&&r.value(v),Bt&&((s=I.value)===null||s===void 0||s.deactivate()),h()},h=function(){I.value=void 0,_.value=void 0,T.value=void 0,F.value=void 0,Vt.value=void 0};return ir([Bt,T,I,_],function(){Vt.value=Bt.value&&_.value!==void 0&&Number.isInteger(_.value)&&!!I.value?sr(T.value,I.value):void 0}),ir(I,function(){I.value&&I.value.on(m.Update,u).on(m.Error,i).on(m.Deactivate,h)},{immediate:!0}),Nr(function(){I.value&&I.value.off(m.Update,u).off(m.Error,i).off(m.Deactivate,h)}),{library:Vt,active:Bt,activate:e,deactivate:n,connector:I,chainId:_,account:F,provider:T,error:C}};function Fr(r,e){return Yt(this,void 0,void 0,function(){var n,u,i,h,v,s,E;return qt(this,function(c){switch(c.label){case 0:return e.provider!==void 0?[3,2]:[4,r.getProvider()];case 1:return u=c.sent(),[3,3];case 2:u=e.provider,c.label=3;case 3:return n=u,[4,Promise.all([e.chainId===void 0?r.getChainId():e.chainId,e.account===void 0?r.getAccount():e.account])];case 4:if(i=c.sent(),h=i[0],v=i[1],s=vr(h),!!r.supportedChainIds&&!r.supportedChainIds.includes(s))throw new br(s,r.supportedChainIds);return E=v===null?v:dr(v),[2,{provider:n,chainId:s,account:E}]}})})}const Dr=()=>gr();export{br as U,Pr as s,Dr as u};
